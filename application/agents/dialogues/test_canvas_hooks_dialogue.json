{
  "dialogue_id": "test_canvas_hooks_001",
  "title": "Test Canvas Navigation Hooks",
  "description": "Complete dialogue demonstrating canvas tab navigation hooks",
  "agent": "canvas_agent",
  "created_at": "2024-12-10T00:00:00Z",
  "test_scenario": "canvas_hooks",
  "messages": [
    {
      "id": 1,
      "role": "user",
      "content": "Create a Customer entity for me"
    },
    {
      "id": 2,
      "role": "assistant",
      "content": "I'll create a Customer entity for you. Let me generate the complete entity definition with fields and validation."
    },
    {
      "id": 3,
      "role": "assistant",
      "content": "âœ… Customer entity created successfully!\n\n**Entity Details:**\n- Name: Customer\n- Version: version_1\n- Fields: 5 (id, name, email, phone, address)\n- Status: DRAFT\n\nThe entity has been created and is ready for review. Would you like to view it in the Canvas?",
      "hooks": [
        {
          "name": "open_canvas_tab",
          "type": "open_canvas_tab",
          "parameters": {
            "conversation_id": "conv-canvas-001",
            "tab_name": "entities",
            "message": "Opening Canvas - Entities Tab"
          }
        }
      ]
    },
    {
      "id": 4,
      "role": "user",
      "content": "entities",
      "selected_option": {
        "value": "entities",
        "label": "ðŸ“‹ Open Canvas - Entities Tab"
      }
    },
    {
      "id": 5,
      "role": "assistant",
      "content": "Great! I've opened the Canvas with the Entities tab. You can now see your Customer entity and all its fields. You can edit, validate, or create workflows for this entity directly in the Canvas.\n\nWould you like me to create a workflow for the Customer entity?"
    },
    {
      "id": 6,
      "role": "user",
      "content": "Yes, create a workflow"
    },
    {
      "id": 7,
      "role": "assistant",
      "content": "I'll create a workflow for the Customer entity with standard states."
    },
    {
      "id": 8,
      "role": "assistant",
      "content": "âœ… Customer workflow created successfully!\n\n**Workflow Details:**\n- Name: Customer Workflow\n- States: DRAFT, ACTIVE, SUSPENDED, ARCHIVED\n- Transitions: 6 defined\n- Version: version_1\n\nThe workflow is now linked to your Customer entity. View it in the Canvas?",
      "hooks": [
        {
          "name": "open_canvas_tab",
          "type": "open_canvas_tab",
          "parameters": {
            "conversation_id": "conv-canvas-001",
            "tab_name": "workflows",
            "message": "Opening Canvas - Workflows Tab"
          }
        }
      ]
    },
    {
      "id": 9,
      "role": "user",
      "content": "workflows",
      "selected_option": {
        "value": "workflows",
        "label": "ðŸ“‹ Open Canvas - Workflows Tab"
      }
    },
    {
      "id": 10,
      "role": "assistant",
      "content": "Perfect! I've opened the Canvas with the Workflows tab. You can see your Customer workflow with all states and transitions. You can modify the workflow, add conditions, or create additional workflows directly in the Canvas.\n\nYour Customer entity and workflow are now ready for use!"
    }
  ],
  "test_results": {
    "canvas_hooks_rendered": true,
    "tabs_opened_correctly": true,
    "entities_tab_works": true,
    "workflows_tab_works": true,
    "status": "PASSED"
  }
}

